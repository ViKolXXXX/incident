{% extends "base.html" %}
{% load static %}
{% block title %}Лицо{% endblock title %}
{% block name_page %}<i class="fas fa-address-card"></i>&nbsp;Лицо{% endblock name_page %}
{% block breadcrumbs %}
	<li><a class="current" href={% url 'face' %}>Лица</a></li>
{% endblock breadcrumbs %}
{% block content %}
	<div class="row d-flex justify-content-center my-4" style="height:700px;overflow-y:auto;">
		<div class="col-8 border border-secondary">
			<form class="compact-form" method="post" action="{% url "face" %}" id="id_form_face">
				{% csrf_token %}
				{% for field in face_form %}
					<div class="form-group">
						{{ field.label_tag }}
						<div>{{ field }}</div>
						<div class="error">{{ field.errors }}</div>
					</div>
				{% endfor %}
				<button type="submit" class="m-2 btn btn-sm btn-secondary"><i class="far fa-save"></i>&nbsp;Сохранить</button>
			</form>
		</div>
		<div class="col-12">
			<table id="id_table_face" class="table table-striped table-bordered compact-table" style="width:100%">
				<thead>
				<tr>
					<th>Фамилия</th>
					<th>Имя</th>
					<th>Отчество</th>
					<th>Дата рождения</th>
					<th>Место рождения (АТЕ)</th>
					<th>Место рождения (район)</th>
					<th>Место рождения (н.п.)</th>
					<th>Воинское (специальное) звание</th>
					<th>Дополнительная информация</th>
					<th>Действие</th>
				</tr>
				</thead>
				<tbody>
				{% for face  in faces %}
					<tr>
						<td>{{ face.familiya }}</td>
						<td>{{ face.imya }}</td>
						<td>{{ face.otchestvo }}</td>
						<td>{{ face.date_rojdeniya }}</td>
						<td>{{ face.mesto_rojdeniya_ATE }}</td>
						<td>{{ face.mesto_rojdeniya_raion }}</td>
						<td>{{ face.mesto_rojdeniya_np }}</td>
						<td>{{ face.zvanie }}</td>
						<td>{{ face.dopolnitelnaya_info }}</td>
{#						<td>{{ face.rodstvennie_svyazi.all|join:", " }}</td>#}
						<td>
							<div class="btn-group" role="group" aria-label="Basic example">
								<a type="button" class="btn btn-secondary" title="Редактировать" href="{% url "change_face" %}?face_id={{ face.id }}">
									<i class="far fa-edit"></i> </a>
								<a type="button" class="btn btn-secondary" title="Удалить" href="{% url "delete_face" %}?face_id={{ face.id }}"><i class="far fa-1x fa-trash-alt"></i></a>
							</div>
						</td>
					</tr>
				{% endfor %}
			</table>
		</div>
	</div>
{% endblock content %}
{% block js %}
	<script>
        $(document).ready(function () {
            $('#id_table_face').DataTable(
                {
                    "pageLength": 5,
                    "lengthChange": false,
                    "language": {
                        "url": "{% static "vendor/data_tables/ru.json" %}"
                    }
                }
            );
        });
	</script>
{% endblock js %}

